{
    "no_adapter": {
        "description": "No bluetooth adapter found.",
        "quick_diagnostics": ["lsusb", "dmesg | grep -i bluetooth"],
        "remediation_steps": [
            {
                "explain": "Check hardware presence (lsusb / lspci)",
                "commands": ["lsusb", "lspci -nn | grep -i bluetooth || true"]
            },
            {
                "explain": "Unblock with rfkill",
                "commands": ["sudo rfkill unblock bluetooth"]
            }
        ],
        "notes": "If USB adapter, check driver/firmware."
    },
    "connect_failed_audio": {
        "description": "Audio device pairs but no audio / cannot connect A2DP.",
        "quick_diagnostics": ["pactl list cards short", "pactl list sinks short", "sudo bluetoothctl info <MAC>"],
        "remediation_steps": [
            {
                "explain": "Install Bluetooth audio modules",
                "commands": ["sudo apt install -y pipewire libspa-0.2-bluetooth || sudo apt install -y pulseaudio pulseaudio-module-bluetooth"]
            },
            {
                "explain": "Restart bluetooth & audio services",
                "commands": ["sudo systemctl restart bluetooth", "systemctl --user restart pipewire pipewire-pulse || systemctl --user restart pulseaudio || true"]
            }
        ],
        "notes": "Codec compatibility depends on hardware/drivers."
    }
}

